{% include 'common/header.html' %}


<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      Data Master Item
      <small>CRUD Data</small>
    </h1>
    <ol class="breadcrumb">
      <li class="fa fa-dashboard"> Home</li>

      <li class="active">Data tables</li>
    </ol>
  </section>

  <!-- Main content -->
  <section class="content">
    <div class="row">
      <div class="col-xs-12">
        <div class="box">
          <div class="box-header">
            <h3 class="box-title">Data Table</h3>
          </div>

          <!-- /.box-header -->
          <div class="box-body">
            <table id="example1" class="table table-bordered table-hover">
              <thead>
                <tr>
                  <th>No</th>
                  <th>User</th>
                  <th>Email</th>
                  <th>Username</th>
                  <!-- <th>Password</th> -->
                  <th class="text-center">
                    <a href="#modalAddUser" class="btn btn-success" data-toggle="modal">
                      <i class=" fa fa-plus"></i> Tambah Data
                    </a>
                  </th>
                </tr>
              </thead>
              <tbody>
                {% for row in value %}
                <tr>
                  <td>{{ row[0] }}</td>
                  <td>{{ row[1] }}</td>
                  <td>{{ row[3] }}</td>
                  <td>{{ row[4] }}</td>
                  <!-- <td>{{ row[5] }}</td> -->
                  <td class="text-center">
                    <a class="btn btn-primary" href="#modalEditMasterItem<?php echo $row->id_item;?>"
                      data-toggle="modal"><i class=" fa fa-edit"></i> Edit</a>
                    <a class="btn btn-danger" href="/deleteUser/{{row[0]}}" onclick="return confirm('Anda yakin?')"> <i
                        class="fa fa-trash"></i> Hapus</a>
                  </td>

                </tr>

                {% endfor %}
              </tbody>
            </table>
          </div>
          <!-- /.box-body -->
        </div>
        <!-- /.box -->


      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->
  </section>
  <!-- /.content -->
</div>
<!-- /.content-wrapper -->
{% include 'common/footer.html' %}
<!-- jQuery 3 -->
<script src="{{ url_for('static', filename='theme/bower_components/jquery/dist/jquery.min.js')}}"></script>
<!-- DataTables -->
<script
  src="{{ url_for('static', filename='theme/bower_components/datatables.net/js/jquery.dataTables.min.js')}}"></script>

<script type="text/javascript"
  src="{{ url_for('static', filename='theme/bower_components/jquery-ui/jquery-ui.js')}}"></script>
<script type="text/javascript"
  src="{{ url_for('static', filename='theme/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.js')}}"></script>

<link rel="stylesheet"
  href="{{ url_for('static', filename='theme/bower_components/bootstrap/dist/css/bootstrap.css')}}">
<!-- Font Awesome -->
<link rel="stylesheet"
  href="{{ url_for('static', filename='theme/bower_components/font-awesome/css/font-awesome.min.css')}}">
<!-- Ionicons -->
<link rel="stylesheet" href="{{ url_for('static', filename='theme/bower_components/Ionicons/css/ionicons.min.css')}}">
<!-- Theme style -->
<link rel="stylesheet" href="{{ url_for('static', filename='theme/dist/css/AdminLTE.min.css')}}">
<!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
<link rel="stylesheet" href="{{ url_for('static', filename='theme/dist/css/skins/_all-skins.min.css')}}">
<link rel="stylesheet" type="text/css"
  href="{{ url_for('static', filename='theme/bower_components/jquery-ui/themes/ui-darkness/jquery-ui.css')}}">
<!-- Date Picker -->
<link rel="stylesheet"
  href="{{ url_for('static', filename='theme/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css')}}">
<link rel="stylesheet"
  href="{{ url_for('static', filename='theme/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.css')}}">
<!-- Daterange picker -->
<link rel="stylesheet"
  href="{{ url_for('static', filename='theme/bower_components/bootstrap-daterangepicker/daterangepicker.css')}}">
<!-- bootstrap wysihtml5 - text editor -->
<link rel="stylesheet"
  href="{{ url_for('static', filename='theme/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css')}}">

<!-- DataTables -->
<link rel="stylesheet"
  href="{{ url_for('static', filename='theme/bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css')}}">

<!--Modal -->
<script type="text/javascript">
  $(function () {
    $('#example1').DataTable()
    $('#example2').DataTable({
      'paging': true,
      'lengthChange': false,
      'searching': false,
      'ordering': true,
      'info': true,
      'autoWidth': false
    })
  })

  function hanyaAngka(evt) {
    var charCode = (evt.which) ? evt.which : event.keyCode
    if (charCode > 31 && (charCode < 48 || charCode > 57))
      return false;
    return true;
  }

  $(document).ready(function () {
    $('.date').mask('00/00/0000');
    $('.time').mask('00:00:00');
    $('.date_time').mask('00/00/0000 00:00:00');
    $('.phone').mask('0000000000000');
  });


</script>

<div class="modal fade" id="modalAddUser">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Tambah Data</h4>
      </div>
      <form class="form-horizontal" method="post" action="/saveUser">
        <div class="modal-body">
          <div class="control-group">
            <label class="control-label">Reff</label>
            <div class="controls">
              <input name="p_reff" id="p_reff" type="text" placeholder="Reff" required="true">
            </div>
          </div>

          <div class="control-group">
            <label class="control-label">Key </label>
            <div class="controls">
              <input name="p_key" id="p_key" type="text" placeholder="Key" required>
            </div>
          </div>

          <div class="control-group">
            <label class="control-label">Email</label>
            <div class="controls">
              <input name="p_email" id="p_email" type="Email" placeholder="Email@***.**.**" required>
            </div>
          </div>

          <div class="control-group">
            <label class="control-label">Username </label>
            <div class="controls">
              <input name="p_username" id="p_username" type="text" placeholder="Username" required>
            </div>
          </div>

          <hr />

          <div class="control-group">
            <label class="control-label">Password</label>
            <div class="controls">
              <input name="p_password" id="p_password" type="password" placeholder="Password" required>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary">Save</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- ============ MODAL EDIT HAK =============== -->
{% for row in value %}
<div class="modal fade" id="modalEditHak<?php echo $row->id;?>">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Edit Data</h4>
      </div>

      <form class="form-horizontal" method="post" action="<?php echo site_url(); ?>/Data_master/edit_akses">
        <div class="modal-body">
          <div class="control-group">
            <label class="control-label">Id</label>
            <div class="controls">
              <input name="id" type="text" value="<?php echo $row->id; ?>" class="uneditable-input" readonly="true">
            </div>
          </div>

          <div class="control-group">
            <label class="control-label">Username</label>
            <div class="controls">
              <input name="username" type="text" value="<?php echo $row->username; ?>" required>
            </div>
          </div>

          <div class="control-group">
            <label class="control-label">Password</label>
            <div class="controls">
              <input name="password" type="password" required>
            </div>
          </div>

          <hr />

          <div class="control-group">
            <label class="control-label">Level</label>
            <div class="controls">
              <select name="level" id="level">
                <?php if($row->level == 'SysAdmin'){ ?>
                <option value="SysAdmin" selected="selected">SysAdmin</option>
                <option value="Admin">Admin</option>
                <?php }else{ ?>
                <option value="SysAdmin">SysAdmin</option>
                <option value="Admin" selected="selected">Admin</option>
                <?php }?>
              </select>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
          <button class="btn btn-primary">Save</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endfor %}